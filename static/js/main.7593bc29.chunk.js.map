{"version":3,"sources":["components/Homepage/Homepage.tsx","components/NavBar/NavBar.tsx","components/PageError/PageError.tsx","api.ts","components/Loader/Loader.tsx","components/PersonLink/helper.ts","components/PersonLink/PersonLink.tsx","components/People/People.tsx","App.tsx","index.tsx"],"names":["Homepage","memo","className","NavBar","role","isActive","cn","to","end","PageError","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Loader","getPersonByName","array","name","find","man","PersonLink","person","slug","isSelected","useMemo","sex","born","died","mother","motherName","father","fatherName","People","useState","people","setPeople","isError","setError","isLoadedPeople","setLoadedPeople","useParams","useEffect","peopleFromServer","error","isNoPeople","length","peopleWithParents","useCallback","map","_","arr","App","path","element","replace","index","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.7593bc29.chunk.js","sourcesContent":["import { FC, memo } from 'react';\n\nexport const Homepage: FC = memo(\n  () => {\n    return (\n      <h1 className=\"title\">Home Page</h1>\n    );\n  },\n);\n","import { FC, memo } from 'react';\nimport {\n  NavLink,\n} from 'react-router-dom';\nimport cn from 'classnames';\n\nexport const NavBar: FC = memo(\n  () => {\n    return (\n      <nav\n        data-cy=\"nav\"\n        className=\"navbar is-fixed-top has-shadow\"\n        role=\"navigation\"\n        aria-label=\"main navigation\"\n      >\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <NavLink\n              className={({ isActive }) => {\n                return cn(\n                  'navbar-item',\n                  { 'has-background-grey-lighter': isActive },\n                );\n              }}\n              to=\"/\"\n            >\n              Home\n            </NavLink>\n\n            <NavLink\n              end\n              className={({ isActive }) => {\n                return cn(\n                  'navbar-item',\n                  { 'has-background-grey-lighter': isActive },\n                );\n              }}\n              to=\"people\"\n            >\n              People\n            </NavLink>\n          </div>\n        </div>\n      </nav>\n    );\n  },\n);\n","import { FC, memo } from 'react';\n\nexport const PageError: FC = memo(\n  () => {\n    return (\n      <h1 className=\"title\">Page not found</h1>\n    );\n  },\n);\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Person } from '../../types';\n\nexport const getPersonByName = (array: Person[], name: string | null) => {\n  return array.find(man => man.name === name);\n};\n","import cn from 'classnames';\nimport { FC, memo, useMemo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Person } from '../../types';\n\nexport interface Props {\n  person: Person;\n  slug: string;\n}\n\nexport const PersonLink: FC<Props> = memo(\n  ({ person, slug }) => {\n    const isSelected = useMemo(() => slug === person.slug, [slug, person]);\n\n    return (\n      <tr\n        className={cn(\n          { 'has-background-warning': isSelected },\n        )}\n        data-cy=\"person\"\n      >\n        <td>\n          <Link\n            className={cn({ 'has-text-danger': person.sex === 'f' })}\n            to={`/people/${person.slug}`}\n          >\n            {person.name}\n          </Link>\n        </td>\n\n        <td>{person.sex}</td>\n        <td>{person.born}</td>\n        <td>{person.died}</td>\n        <td>\n          {person.mother\n            ? (\n              <Link\n                className=\"has-text-danger\"\n                to={`/people/${person.mother.slug}`}\n              >\n                {person.motherName}\n              </Link>\n            )\n            : person.motherName || '-'}\n        </td>\n        <td>\n          {person.father\n            ? (\n              <Link\n                className=\"class\"\n                to={`/people/${person.father.slug}`}\n              >\n                {person.fatherName}\n              </Link>\n            )\n            : person.fatherName || '-'}\n        </td>\n      </tr>\n    );\n  },\n);\n","import {\n  FC,\n  memo,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getPeople } from '../../api';\nimport { Person } from '../../types';\nimport { Loader } from '../Loader/Loader';\nimport { getPersonByName } from '../PersonLink/helper';\nimport { PersonLink } from '../PersonLink';\n\nexport const People: FC = memo(\n  () => {\n    const [people, setPeople] = useState<Person[]>([]);\n    const [isError, setError] = useState(false);\n    const [isLoadedPeople, setLoadedPeople] = useState(false);\n\n    const { slug = '' } = useParams();\n\n    useEffect(() => {\n      try {\n        getPeople()\n          .then((peopleFromServer) => {\n            setPeople(peopleFromServer);\n            setLoadedPeople(true);\n          });\n      } catch (error) {\n        setError(true);\n      }\n    }, []);\n\n    const isNoPeople = useMemo(() => {\n      return !isError && isLoadedPeople && !people.length;\n    }, [isError, isLoadedPeople, people.length]);\n\n    const peopleWithParents = useCallback(\n      () => {\n        return people.map((person, _, arr) => ({\n          ...person,\n          mother: getPersonByName(arr, person.motherName),\n          father: getPersonByName(arr, person.fatherName),\n        }));\n      }, [people],\n    );\n\n    return (\n      <>\n        <h1 className=\"title\">People Page</h1>\n        <div className=\"block\">\n          <div className=\"box table-container\">\n\n            {!isLoadedPeople && (\n              <div className=\"container\">\n                <Loader />\n\n                {isError && (\n                  <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n                    Something went wrong\n                  </p>\n                )}\n\n                {isNoPeople && (\n                  <p data-cy=\"noPeopleMessage\">\n                    There are no people on the server\n                  </p>\n                )}\n              </div>\n            )}\n\n            {isLoadedPeople && (\n              <table\n                data-cy=\"peopleTable\"\n                className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n              >\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Sex</th>\n                    <th>Born</th>\n                    <th>Died</th>\n                    <th>Mother</th>\n                    <th>Father</th>\n                  </tr>\n                </thead>\n\n                <tbody>\n                  {peopleWithParents().map(person => (\n                    <PersonLink\n                      key={person.slug}\n                      person={person}\n                      slug={slug}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            )}\n          </div>\n        </div>\n      </>\n    );\n  },\n);\n","import {\n  Navigate,\n  Route,\n  Routes,\n} from 'react-router-dom';\n\nimport './App.scss';\nimport { Homepage } from './components/Homepage';\nimport { NavBar } from './components/NavBar';\nimport { PageError } from './components/PageError';\nimport { People } from './components/People';\n\nexport const App = () => {\n  return (\n    <div data-cy=\"app\">\n      <NavBar />\n\n      <main className=\"section\">\n        <Routes>\n          <Route path=\"*\" element={<PageError />} />\n\n          <Route path=\"/\" element={<Homepage />} />\n          <Route path=\"home\" element={<Navigate to=\"/\" replace />} />\n\n          <Route path=\"people\">\n            <Route index element={<People />} />\n            <Route path=\":slug\" element={<People />} />\n          </Route>\n        </Routes>\n      </main>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}